
<div class="card mx-auto" style="max-width:900px;">
  <div class="card-body text-center">
    <h3 class="mb-1"><i class="fa-solid fa-robot fa-lg text-primary"></i> Game & Rewards</h3>
    <p class="text-muted">Main, tonton iklan, kumpulkan poin â€” tukar saldo!</p>

    <div id="user-block" class="mb-3">
      <p id="greeting">Loading user...</p>
      <p>Points: <span id="points" class="fw-bold">0</span></p>
    </div>

    <div id="email-area" class="mb-3" style="display:none;">
      <input id="email" class="form-control mb-2" placeholder="Masukkan email (wajib untuk redeem)">
      <button id="saveEmail" class="btn btn-success">Simpan Email</button>
    </div>

    <div id="actions" class="d-grid gap-2 d-md-block">
      <button id="btnRequestAd" class="btn btn-primary"><i class="fa fa-play me-1"></i> Mulai Iklan (Diperlukan sebelum aksi)</button>
      <button id="btnCheckin" class="btn btn-success"><i class="fa fa-check me-1"></i> Check-in (butuh iklan dulu)</button>
      <button id="btnWatchAd" class="btn btn-info"><i class="fa fa-video me-1"></i> Nonton Rewarded Ad (+ poin)</button>
      <button id="btnGames" class="btn btn-outline-secondary"><i class="fa fa-gamepad me-1"></i> Main Game (butuh iklan dulu)</button>
      <button id="btnWithdraw" class="btn btn-danger"><i class="fa fa-wallet me-1"></i> Ajukan Withdraw</button>
    </div>

    <div id="ads-slot" class="mt-3"></div>
    <div id="status" class="mt-3"></div>
  </div>
</div>

<!-- inject ads script from server (adsScript variable provided by route) -->
<script>
  window.serverAdsScript = `<%- typeof adsScript !== 'undefined' ? adsScript.replace(/\`/g,'\\`') : '' %>`;
</script>

<script src="/js/user.js"></script>
